(function(w,x,Q){w.execute(function(){w.register("postMetric",function(){return{postCountMetric:function(r){if("undefined"!==typeof r){var d=x.ue;if(d){var e=d.count(r)||0;d.count(r,e+1)}}}}});w.register("logFailedInteractionMetric",function(){return{isEnabled:!1}});w.register("postEarlyMetric",function(){return null});w.when("jQuery","ImageBlockController","ImageBlockATF","ImageBlockBTF").register("ImageBlock",function(r,d,e,k){e.extraVideos&&(k.videos=r.merge(e.extraVideos,
k.videos),delete e.extraVideos);r=r.extend(!0,{},e,k);var b=new d(r);w.register("ImageBlockAPI",function(){return b.api});return b});w.when("A","jQuery","ImageBlockBTF").register("ImageBlockAiryLoader",function(r,d,e){r=e.airyConfig;r.jsUrl&&w.load.js(r.jsUrl);r.cssUrl&&w.load.css(r.cssUrl)});w.when("A","jQuery","ImageBlockModel","ImageBlockView","imageBlockUtils","ImageBlockState").register("ImageBlockController",function(r,d,e,k,b,a){var c={};return function(f){var g=this;
g.dispatch=function(a,e){var f=c[a];b.isDefined(f)&&d.each(f,function(a,b){b.call(x,e)})};g.register=function(a,d){b.isDefined(c[a])||(c[a]=[]);"function"===typeof d&&c[a].push(d)};g.model=new e(f,g);g.view=new k(f,g,g.model);g.api=new a(f,g,g.model);g.init=function(){g.model.init();g.view.init()};g.init()}});w.when("A","jQuery","imageBlockUtils").register("ImageBlockModel",function(r,d,e){function k(a,b,c,d,f){e.isDefined(a)&&(l.type=a);e.isDefined(b)&&(l.index=b);e.isDefined(c)&&(l.thumbnailIndex=
c);e.isDefined(d)&&(l.variant=d);e.isDefined(f)&&(l.color=f)}function b(a){k("image",0,0,"MAIN",a||g.landingAsinColor||g.defaultColor)}function a(a){a=a.data;m=r.copy(l);k(a.type,a.index,a.thumbnailIndex,a.variant,a.color)}function c(b){a(b);b=r.copy(b);b.data=r.copy(l);h.dispatch("updateView",b)}function f(){m=r.copy(l);b(l.color)}var g,h,l={},m={},v;return function(d,e){h=e;g=d;h.register("updateSelection",c);h.register("updateModel",a);h.register("resetModel",f);this.init=function(){b()};this.getCurrentItem=
function(){return r.copy(l)};this.getPreviousItem=function(){return r.copy(m)};this.setCurrentEvent=function(a){v=a};this.getCurrentEvent=function(){return v}}});w.when("ImageBlockBTF","postMetric").execute(function(r,d){function e(a,b,d,e,k){function m(a){"click"===a.type&&e.postCountMetric("thumbClick");"click"===a.type&&y.overrideAltImageClickAction?B.dispatch("thumbActionClick",a):B.dispatch("updateSelection",a)}function r(a){y.useClickZoom||B.dispatch("imageClick",a)}function q(a){y.useClickZoom||
B.dispatch("imageHover",a)}function t(a){B.dispatch("button360Click",a)}function u(b){!d.isDefined(b)||"swatchClick"!==b.type&&"updatedData"!==b.type?(n.update(b),"swatchHover"!==b.type&&F.getPreviousItem().thumbnailIndex!==b.data.thumbnailIndex&&e.postCountMetric(b.data.type+"ThumbnailSelected"),a.trigger("image-block-thumbnail-selected",b.data)):n.render(b.data.color,!1,b.onload)}function p(a){B.dispatch("resize",a)}function w(a){d.selectThumbnail(a,L)}function A(a){var b=a.data,c;b&&"ingress"!==
b.type&&"click"===a.type&&(c=a);return c}function E(a){var b=F.getCurrentItem(),c={type:"click"};c.$declarativeParent=a;c.data=b;return c}var n,y,B,F,L;return function(d,e,g){n=this;y=d;B=e;F=g;L=b("#imageBlock #altImages ul");var h=b("#imageBlock .canvas"),K=b("#main-image-container"),I;n.subViews=[];for(e=0;e<k.length;e++)n.subViews.push(new k[e](d,g,n,B));n.render=function(a,c,d){var e=0;L.find(".item").remove();a=a||F.getCurrentItem().color;b.each(n.subViews,function(b,f){e=f.render(a,e,h,L,K,
c,d)||e});var g=L.find(".a-button-selected").closest(".a-declarative");I=E(g)};n.init=function(){L=b("#imageBlock #altImages ul");var d=L.find(".a-button-selected").closest(".a-declarative"),e=d.data("action"),d=d.data(e)||{};d.color=y.landingAsinColor||y.defaultColor;B.dispatch("updateModel",{data:d});n.render(d.color,!0);y.isDebug&&x.console&&console.log(y);B.register("updateView",u);B.register("selectThumbnail",w);y.disableHoverOnAltImages||a.declarative("thumb-action",["mouseenter","mouseleave"],
m);a.declarative("thumb-action",["click"],m);a.declarative("main-image-click",["click"],r);a.declarative("main-image-click",["mouseenter","mouseleave"],q);a.declarative("button-360-click",["click"],t);b(x).resize(p)};n.update=function(a){b.each(n.subViews,function(b,c){c.update(a)});y.usePeekHover&&("mouseleave"===a.type?B.dispatch("updateSelection",I):"click"===a.type&&(I=A(a)||I))}}}var k=r.views,b=k.indexOf("ImageBlockAltImageView"),a=k.indexOf("ImageBlockVideoView");r.videoIngressExperimentTreatment&&
"C"!==r.videoIngressExperimentTreatment&&0<b&&0<a&&(k[b]="ImageBlockVideoView",k[a]="ImageBlockAltImageView");k=["A","jQuery","imageBlockUtils","postMetric"].concat(k);w.when.apply(w,k).register("ImageBlockView",function(){for(var a=arguments[0],b=arguments[1],d=arguments[2],h=arguments[3],k=[],m=4,r=arguments.length;m<r;m++)k.push(arguments[m]);return e(a,b,d,h,k)})});w.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAltImageView",
function(r,d,e,k,b,a,c){function f(a,b,c,f){if(!e.isjQueryObjDefined(a.find(".a-button-selected"))){var g=F.getCurrentItem();if(!f||"chromeless-video"!==g.type||!B.autoplayVideo){f=0;"image"===g.type&&(f=Math.max(l(g.color,g.variant),0));var h=b+f;h>=c&&(f=0,h=b);b=e.getImageHash(g.color,f,B);-1!==b&&(L.dispatch("updateModel",{data:{index:f,thumbnailIndex:h,variant:b.variant,type:"image"}}),b=a.find(".item").get(h),e.selectGivenThumbnail(d(b),a))}}}function g(b,g,h){g=B.colorImages&&B.colorImages[g];
var k=b;e.isDefined(g)&&(d.each(g,function(a,c){b<B.maxAlts&&(e.createThumbnail({type:"image",index:a,thumbnailIndex:b,variant:c.variant},c.thumb,G,"imageThumbnail"),b++)}),a.isEnabled&&c.logAltImgRequestPlacedOnThumbnails(d,a,F),f(G,k,b,h));return b}function h(a,b){if("image"===a.type){var c=d("#image-canvas-caption #canvasCaption"),e,f=B.staticStrings,g=B.colorImages,h=a.color,k=a.index;b&&B.useIV?e=f.clickToExpand:g[h]&&g[h][k].hiRes&&B.useHoverZoom?(e=B.useHoverZoomIpad?f.touchToZoom:B.useClickZoom?
f.clickToZoom:f.rollOverToZoom,B.hoverZoomIndicator&&(e="<img src='"+B.staticImages.hoverZoomIcon+"'/>&nbsp;"+e)):B.useIV&&(e=f.clickToExpand);c.html(e)}}function l(a,b){return e.getIndexForVariant(a,b,B)}function m(a,b){var c;d.each(a.main,function(a,b){e.isDefined(c)||(c=parseFloat(b[1]/b[0])<=parseFloat(B.holderRatio)?"a-stretch-vertical":"a-stretch-horizontal")});var f="a-dynamic-image "+c,g=e.getMaxDimensionsOfMainImage(a.main,H,B),h=g[0],k=g[1],g=d("<div></div>"),h={"max-height":h,"max-width":k};
g.addClass(f).css(h).attr({"data-old-hires":a.hiRes,"data-a-manual-replacement":"true",onload:b}).data("a-dynamic-image",a.main);return g}function v(a){var b=P.find(".swatchHoverExp");a=m(a);b.find(".imgTagWrapper").html(a);r.loadImageManually(a);return b}function q(a){var b=H.css("height");null!==b&&a.find(".imgTagWrapper").css("height",b);a.addClass("selected");B.imgTagWrapperClasses&&a.find(".imgTagWrapper").addClass(B.imgTagWrapperClasses)}function t(d,f){if("image"===d.type||"unavailable"===
d.type||"lazy-loaded"===d.type){var g=e.getImageHash(d.color,d.index,B);if(-1===g)return g={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},e.lazyLoadingRequired(d,F,B)?x(d,!1,f):(L.dispatch("updateModel",g),e.showUnavailable(d.color)),-1;var k=P.find(".item.itemNo"+d.thumbnailIndex);if(!e.isjQueryObjDefined(k)){var k=d.thumbnailIndex,k=P.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate").addClass("image item itemNo"+k+" maintain-height"),l=m(g,f);k.find(".placeHolder").replaceWith(l);
P.find(".list").append(k);r.loadImageManually(l)}q(k);L.dispatch("loadMagnifier");h(d);B.useIV&&e.isDefined(g.hiRes)&&k.css("cursor","pointer");d.isUserGenerated&&(k=F.getPreviousItem(),l=d.variant,e.isDefined(l)&&k.thumbnailIndex!==d.thumbnailIndex&&(a.isEnabled&&c.logAltImgRequestServed(a),b.postCountMetric("ImageThumbnailSelectedVariant:"+l),0===l.indexOf("IG")&&(b.postCountMetric("IGImageSelectedVariant:"+l),b.postCountMetric("IGImageSelectedEvent:"+d.interaction))));r.trigger("dp:image-block:update",
g)}}function u(a){var b=Math.max(l(a.color,F.getCurrentItem().variant),0),b=e.getImageHash(a.color,b,B);if(-1===b)return e.lazyLoadingRequired(a,F,B)?e.lazyLoadOnHoverEnabled(B)&&(p(".3",!0),e.spinner(P,!0),r.delay(function(){F.getCurrentEvent().data===a&&x(a,!0)},500)):e.showUnavailable(a.color),-1;var c=v(b);q(c);r.trigger("dp:image-block:update",b)}function p(a,b){b?P.css("opacity",a):d("#imageBlock").css("opacity",a)}function x(a,b,c){S=b;K=c;var d=a.color,f=B.colorToAsin[d];if(f&&f.asin){var g=
{};g.params={asin:f.asin,productGroupID:B.productGroupID,color:d};g.success=function(g){g?(e.ajaxState(f.asin,"success"),B.colorImages[d]=g.colorImage,e.isDefined(B.spin360ColorEnabled)&&(B.spin360ColorEnabled[d]=g.enable360),d===a.color&&(b&&S?a===F.getCurrentEvent().data&&(A(a),u(a)):(g={type:"updatedData",data:F.getCurrentItem(),onload:c||K},L.dispatch("updateView",g))),w.register(e.rankedImagesReadyEvent(f.asin))):e.ajaxState(f.asin,"fail")};g.error=function(){e.ajaxState(f.asin,"fail")};g.indicator=
e.spinner(P);e.ajaxState(f.asin,void 0)&&"fail"!==e.ajaxState(f.asin,void 0)||(p(".3",b),k.load("/gp/product/features/apparel-main-image/ranked-images.html",g),e.ajaxState(f.asin,"sent"));return B.colorImages&&B.colorImages[d]}}function A(a,b){e.lazyLoadingRequired(a,F,B)||(d("#imageBlock").css("opacity","1"),P.css("opacity","1"),e.spinner(P,!1),P.find("li").removeClass("selected"),d("#image-canvas-caption #canvasCaption").empty(),e.hideUnavailable(),b&&P.find(".list .item").remove())}function E(){var a=
P.find(".item .imgTagWrapper"),b=e.getContainerHeight(H,B.holderRatio,B.holderMaxHeight);0<b&&(H.height(b),a.height(b));P.find("img.a-dynamic-image").each(function(){var a=d(this);a.data("a-manual-replacement")&&r.loadDynamicImage(this);var b=a.data("a-dynamic-image"),b=e.getMaxDimensionsOfMainImage(b,H,B);a.css({"max-height":b[0]+"px","max-width":b[1]+"px"})})}function n(a){h(F.getCurrentItem(),"mouseenter"===a.type)}var y,B,F,L,G,P,H,S,K;return function(a,b,c,d){y=this;B=a;F=b;L=d;B.colorImages[B.landingAsinColor]=
B.colorImages[B.defaultColor];y.render=function(a,b,c,d,f,h,k){P=c;G=d;H=f;a=g(b,a,h);h||(b=F.getCurrentItem(),e.lazyLoadingRequired(b,F,B)&&L.dispatch("updateModel",{data:{type:"lazy-loaded"}}));A(F.getCurrentItem(),!h);t(F.getCurrentItem(),k);return a};y.update=function(a){var b=a.data;F.setCurrentEvent(a);"ingress"!==b.type&&A(a.data,!1);"swatchHover"===a.type?b.color===F.getCurrentItem().color?t(F.getCurrentItem()):a.captured||-1===u(b)||(a.captured=!0):"image"===b.type&&(b.interaction=a.type,
b.isUserGenerated=!0,t(b),B.usePeekHover&&"click"!==a.type||e.selectGivenThumbnail(a.$declarativeParent,G))};L.register("imageHover",n);L.register("resize",E)}});w.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockMagnifierView",function(r,d,e,k,b,a){function c(a){p?a.css("cursor","url('"+m.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in"))}function f(a){var b=
a.match(/\._((\w|,|\.)+)_\.(gif|jpg|png)$/i);a={};if(e.isDefined(b))for(var b=b[1].split("_"),c=0;c<b.length;c++){var d=b[c].match(/^([A-Z]+)(\d+(\.\d+)?)$/);e.isDefined(d)&&(a[d[1]]=parseInt(d[2],10))}return a}function g(g,h){function l(){var a;h.useClickZoom?(a=h.offsetInClickZoom,a=[Math.min(1,Math.max(0,K[0]-(O[0]+a))/(O[2]-2*a)),Math.min(1,Math.max(0,K[1]-(O[1]+a))/(O[3]-2*a))]):a=S&&S.updatePosition();if(a&&H&&H.detailSize){var b=[H.detailSize[0]-H.rect.width,H.detailSize[1]-H.rect.height];
H.detailImage.get(0).style.left=-(a[0]*b[0])+"px";H.detailImage.get(0).style.top=-(a[1]*b[1])+"px"}}function n(a){var b=M?a.originalEvent.touches[0]||a.originalEvent.changedTouches[0]:"";K=M?[b.pageX,b.pageY]:[a.pageX,a.pageY]}function q(c){M&&c.preventDefault();n(c);h.useClickZoom?c=[O[0],O[1],O[0]+O[2],O[1]+O[3]]:(c=S?S.offset:g.offsetParent().offset(),c=[I[0]+c.left,I[1]+c.top,I[0]+I[2]+c.left,I[1]+I[3]+c.top]);K[0]<c[0]||K[1]<c[1]||K[0]>=c[2]||K[1]>=c[3]?(h.fadeMagnifier?da||(da=!0,ua=setTimeout(function(){t(!0)},
500)):h.useClickZoom||t(),ma&&(ma=!1,clearTimeout(ya))):(ma||(ma=!0,ya=setTimeout(function(){k.postCountMetric("dppc_hoverZoomOpened");b.isEnabled&&a.logHoverZoomRequestServed(b)},1E3)),h.fadeMagnifier&&da&&(da=!1,clearTimeout(ua)),l())}function t(a){a&&v.suppressMagnifier(!0);if(N&&(H&&H.hide(),S&&(S.destroy(),S=null),N=!1,M?(g.unbind("touchmove.magnifier touchstart.magnifier touchend.magnifier"),d(document).trigger("disengaged.magnifier")):d(document).unbind("mousemove.magnifier").trigger("disengaged.magnifier"),
u(),a))g.one("click.magnifier touchstart.magnifier",function(a){r(a,!0)})}function r(a,b){b&&v.suppressMagnifier(!1);if(!N&&!Q&&(0===V&&(k.postCountMetric("dppc_hoverTime",new Date-(x.ue&&x.ue.t0||0)),V=1),fa[Ia]||(k.postCountMetric("dppc_hoverMain"),fa[Ia]=1),I=[g.position().left,g.position().top,g.width(),g.height()],Ia&&(n(a),H?H.refit().show():H=new ha,h.useClickZoom||(S=S||new ba),O=H.getWindowSize(),l()),N=!0,M?(g.unbind("touchstart.magnifier touchmove.magnifier").bind("touchmove.magnifier",
q).bind("touchend.magnifier",t),d(document).trigger("engaged.magnifier")):(g.unbind("mousemove.magnifier"),d(document).trigger("engaged.magnifier").bind("mousemove.magnifier",q)),b)){var c=d("#zoomWindow");if(0<c.length)c.one("click.magnifier touchend.magnifier",function(a){t(!0)})}}function u(){h.useHoverZoom&&(M?g.bind("touchstart.magnifier touchmove.magnifier",r):g.bind("mousemove.magnifier",r))}var v=this,w={detailImageUrl:g.attr("data-old-hires"),location:"over",locationElement:g,prelaod:"ready",
zIndex:50,offsetInClickZoom:50};h=d.extend(w,h);h.adjustment=[10,0,-10,0];var H=null,S=null,K=null,I=null,O=null,U={"null":1,"":1,undefined:1},N=!1,Q=!1,Ia=h.detailImageUrl,M=h.useHoverZoomIpad||0,V=0,fa={},ba=function(){function a(b){var c=Math.round(Math.min(g.width(),H.rect.width/b));b=Math.round(Math.min(g.height(),H.rect.height/b));l.css({width:c,height:b});e=[c,b]}var b=this,e=[0,0],f=(H.detailSize&&H.detailSize[0]||5E8)/I[2],k=(H.detailSize&&H.detailSize[1]||5E8)/I[3],f=k>f?k:f;d("#magnifierLens").remove();
var l=d("<div id='magnifierLens' />").css({backgroundImage:"url("+h.generalImageUrls.zoomLensBackground+")",position:"absolute"});m.showMagnifierOnHover?c(l):l.css("cursor","pointer");b.updatePosition=function(){var a=[I[2]-e[0],I[3]-e[1]],c=0>=a[0]?.5:Math.max(0,Math.min(1,(K[0]-e[0]/2-I[0]-b.offset.left)/a[0])),d=0>=a[1]?.5:Math.max(0,Math.min(1,(K[1]-e[1]/2-I[1]-b.offset.top)/a[1])),f=I[0]+Math.round(c*a[0]),a=I[1]+Math.round(d*a[1]);l.get(0).style.left=f+"px";l.get(0).style.top=a+"px";return[c,
d]};b.destroy=function(){l.remove()};b.offset=g.offsetParent().offset();a(f);b.updatePosition();l.appendTo(g.parent());H.detailImage[0].complete||H.detailImage.load(function(){var c=H.detailImage.width()/I[2];a(c);b.updatePosition()})};ba.preload=function(){v.preload(h.generalImageUrls.lensBackgroundUrl)};var ha=function(){function a(){var b={};if("over"===h.location){var b=h.useClickZoom,f={},l=d("#leftCol"),m=d("#centerCol"),q=d("#rightCol"),p=d("#hover-zoom-end"),t=d("#actionPanelContainer"),r=
e.isjQueryObjDefined(l)?l.outerHeight():m.outerHeight();f.top=e.isjQueryObjDefined(l)?l.offset().top:m.offset().top;f.bottom=r+f.top;f.right=e.isjQueryObjDefined(q)?q.offset().left:t.offset().left;f.left=b?0:l.offset().left+l.outerWidth();e.isjQueryObjDefined(p)&&p.offset().top>f.bottom&&(f.bottom=p.offset().top);b=f}else"right"===h.location&&(b=g.offset(),b={left:b.left+g.outerWidth(),top:b.top,right:b.left+g.outerWidth()+400,bottom:b.top+400});h.minHeightElement&&(b.bottom=Math.max(b.bottom,b.top+
d(h.minHeightElement).outerHeight()));b.bottom=Math.min(b.bottom,d(x).scrollTop()+d(x).height());b.left+=k[0];b.top+=k[1];b.right+=k[2];b.bottom+=k[3];b.width=b.right-b.left;b.height=b.bottom-b.top;h.enhancedHoverOverlay&&e.isDefined(x.pageXOffset)&&(f=d(x).width(),b.width=f-b.left+x.pageXOffset-18,b.height-=14);n.css({left:b.left,top:b.top,width:b.width,height:b.height});c.rect=b;return c}function b(a){var d=new Image;c.detailSize=[0,0];d.onload=function(){c.detailSize=[d.width,d.height];l()};d.src=
a.attr("src");if(0<d.width&&0<d.height)c.detailSize=[d.width,d.height];else if(h.detailImageSize)c.detailSize=h.detailImageSize;else{a=f(d.src);var e=I[2]/I[3];a.SS||a.AA?(a=a.SS||a.AA,c.detailSize=[a,a]):a.SX?c.detailSize=[a.SX,Math.round(a.SX/e)]:a.SY?c.detailSize=[Math.round(a.SY*e),a.SY]:a.SL&&(c.detailSize=1<=e?[a.SL,Math.round(a.SL/e)]:[Math.round(a.SL*e),a.SL])}}var c=this,k=h.adjustment;d("#zoomWindow").remove();var m={overflow:"hidden",position:"absolute",backgroundColor:"white",zIndex:h.zIndex};
h.enhancedHoverOverlay&&(m.boxShadow="0 6px 8px 2px rgba(0,0,0,.25)",m.border="1px solid #949494",m.borderColor="rgb(148,148,148)");var n=d("<div id='zoomWindow' />").css(m);h.fadeMagnifier&&n.fadeIn(200);h.useClickZoom&&(p?n.css("cursor",'url("'+h.zoomOutIcon+'"), auto'):(n.css("cursor","-webkit-zoom-out"),n.css("cursor","-moz-zoom-out"),n.css("cursor","zoom-out")));c.updateImage=function(a){a=d("<img id='detailImg' src='"+a+"'/>").css("position","absolute");c.detailImage&&c.detailImage.remove();
n.append(a);d(document).trigger("updated.magnifier");c.detailImage=a;b(c.detailImage)};c.refit=function(){a();b(c.detailImage);return c};h.fadeMagnifier?(c.show=function(){n.fadeIn(200);return c},c.hide=function(){n.fadeOut(200);return c}):(c.show=function(){n.show();return c},c.hide=function(){n.hide();return c});c.destroy=function(){n.remove();return c};c.getWindowSize=function(){return[c.rect.left,c.rect.top,c.rect.width,c.rect.height]};c.updateImage(Ia);a();n.appendTo(document.body)},da=!1,ua,
ma=!1,ya;v.preload=function(a){a=d.makeArray(a);for(var b=a.length,c=0;c<b;c++)a[c]instanceof Array?v.preload(a[c]):"string"===typeof a[c]&&a[c]&&!U[a[c]]&&(U[a[c]]=new Image,U[a[c]].src=a[c])};v.changeImage=function(a,b){N&&t();Ia=b;g.attr("src",a);v.preload(a);I=[g.position().left,g.position().top,g.width(),g.height()];b&&("immediately"===h.preload?v.preload(b,!0):d(x).ready(function(){v.preload(b)}),H?H.updateImage(b):g.attr("data-old-hires",b))};v.destroy=function(){g.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier");
d(document).unbind("mousemove.magnifier");S&&S.destroy();S=null;H&&H.destroy();H=null};v.detailImage=function(){return H.detailImage};v.suppressMagnifier=function(a){Q=a};v.isEngaged=function(){return N};v.engageMagnifier=r;v.disengageMagnifier=t;g[0].complete?u():g.one("load",u);v.preload(g.attr("src"));if(h.preload){var Z=h.detailImageUrl,w=function(){v.preload(Z,!0);h.useClickZoom||ba.preload()},ia=h.preload;ia.constructor!==Array&&(ia=[ia]);for(var T=0;T<ia.length;T++)if("immediately"===ia[T])w();
else if(d(x)[ia[T]])d(x)[ia[T]](w);else d(x).bind(ia[T],w)}return v}function h(){if(m.useHoverZoom){var c={adjustment:[0,0,1,1],generalImageUrls:m.staticImages,location:"over",minHeightElement:"#imageBlock",preload:"ready",zIndex:190,useHoverZoomIpad:m.useHoverZoomIpad,useHoverZoom:m.useHoverZoom,useClickZoom:m.useClickZoom,fadeMagnifier:m.fadeMagnifier,zoomOutIcon:m.staticImages.zoomOutCur,enhancedHoverOverlay:m.enhancedHoverOverlay};t&&(t.destroy(),t=Q);var f=u.find(".image.item.selected img[data-old-hires]").not("[data-old-hires='']");
e.isjQueryObjDefined(f)?m.useClickZoom?(f.one("click.loadmagnifier touchstart.loadmagnifier",function(a){t=new g(f,c);t.engageMagnifier(a,!0)}),p?f.css("cursor",'url("'+m.staticImages.zoomInCur+'"), auto'):(f.css("cursor","-webkit-zoom-in"),f.css("cursor","-moz-zoom-in"),f.css("cursor","zoom-in"))):t=new g(f,c):b.isEnabled&&a.logHoverZoomApplicability(d,b)}}var l,m,v,q,t,u,p=navigator.userAgent.match(/msie|trident/i);return function(a,c,d,e){l=this;m=a;v=c;b.refToModel=v;q=e;l.render=function(a,b,
c,d,e,f){u=c;t&&(t.destroy(),t=Q)};l.update=function(a){};q.register("loadMagnifier",h);q.register("resize",h)}});w.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockTwisterView",function(r,d,e,k){function b(a,b,c){a=(a=c?c:e.getColorFromState(b.getState().hovered_variations,f))&&""!==a?a:f.defaultColor;h.dispatch("updateView",{type:"swatchHover",data:{color:a}});k.postCountMetric("swatchHover")}function a(a,b,c,d){a=(a=d?d:e.getColorFromState(b.getState().selected_variations,
f))&&""!==a?a:f.defaultColor;a===g.getCurrentItem().color?"function"===typeof c&&c():(h.dispatch("updateSelection",{type:"swatchClick",data:{color:a},onload:c}),k.postCountMetric("swatchClick"))}var c,f,g,h;return function(d,e,k,q){c=this;f=d;g=e;h=q;r.on("image-block-twister-swatch-hover",b);r.on("image-block-twister-swatch-click",a);c.render=function(a,b,c,d,e){};c.update=function(a){}}});w.when("A","jQuery","Airy","imageBlockUtils","ImageBlockLoader","postMetric").register("ImageBlockVideoView",
function(r,d,e,k,b,a){function c(a,b,c,e){!p.autoplayVideo||I||p.useChromelessVideoPlayer?!k.isjQueryObjDefined(a.find(".a-button-selected"))&&!k.videoIngressExperimentEnabled(p)&&(c=x.getCurrentItem(),!e||p.prioritizeVideos||"chromeless-video"===c.type&&p.autoplayVideo)&&(e=l(c.color,0),-1!==e&&(b+=0,A.dispatch("updateModel",{data:{index:0,thumbnailIndex:b,variant:e.variant,type:p.useChromelessVideoPlayer?"chromeless-video":"chromeful-video"}}),b=a.find(".item").get(b),k.selectGivenThumbnail(d(b),
a))):(k.selectGivenThumbnail(a.find("img:last"),a),k.fadeToThumbnail(a.find("img").length-1,B,a))}function f(a){if(!p.useChildVideos)return k.lazyLoadingRequired(x.getCurrentItem(),x,p)?void 0:p.videos;if(p.colorToVideo[a])return p.colorToVideo[a];var c=p.colorToAsin[a];if(c&&c.asin){var e={};e.params={asin:c.asin,productGroupID:p.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:p.useChromelessVideoPlayer,isUDP:p.isUDP};e.success=function(b){var e=function(){if(b){var c=k.isDefined(p.colorToVideo.initial[0])?
k.isDefined(p.colorToVideo.initial[0].banner):!1;p.displayVideoBanner&&c&&(b=d.merge([p.colorToVideo.initial[0]],b));p.colorToVideo[a]=b;c={type:"updatedData",data:x.getCurrentItem()};A.dispatch("updateView",c)}};p.lazyLoadExperienceDisabled?e():w.when(k.rankedImagesReadyEvent(c.asin)).execute(function(){e()})};b.load("/gp/product/features/apparel-main-image/videos.html",e);return p.colorToVideo&&p.colorToVideo[a]}}function g(){A.dispatch("selectThumbnail",k.videoIngressExperimentEnabled(p)?1:0)}
function h(b,c,f,h){return e.embed({isShowFirstFrameWhenReadyEnabled:!0,parentElement:b[0],streamingUrls:c.url,swfUrl:f.swfUrl,foresterMetadataParams:f.foresterMetadataParams,backgroundColor:"transparent",flashParams:{wmode:"transparent"},experiments:{supportChromelessPlayback:!0},bindings:{canplay:function(){var c=k.isjQueryObjDefined(b.find("video"))?"HTML5":"FLASH";a.postCountMetric("dppc_chromelessVideo:"+c)},playing:function(){b.parent().css("z-index",8)},videounsupported:function(){g();a.postCountMetric("dppc_chromelessVideo:VIDEO_UNSUPPORTED")},
error:function(){g();a.postCountMetric("dppc_chromelessVideo:ERROR")},ended:function(){G.seek(0)}},cuePoints:[{values:c.durationSeconds-1,type:"position",callback:function(a,c,e){a=e.durationSeconds-e.playheadTimeSeconds;b.parent().css("background-color","white").find(".airy-renderer-container").fadeTo(1E3*a,.1,function(){b.parent().css({"background-color":"transparent","z-index":-1});g();d(this).show().css("opacity",1)})}}]})}function l(a,b){var c;if(p.useChildVideos){if(!k.isDefined(p.colorToVideo))return-1;
c=p.colorToVideo[a]}else c=p.videos;return k.isDefined(c)&&k.isDefined(c[b])&&k.isDefined(c[b].url)?c[b]:-1}function m(a){if("chromeful-video"===a.type||"chromeless-video"===a.type){var b=l(a.color,a.index);H=p.displayVideoBanner&&k.isDefined(b.banner);if(-1===b)return-1;if("chromeful-video"===a.type){a=B.width()/B.height();var c=parseInt(b.videoWidth,10),e=parseInt(b.videoHeight,10);k.updateAspectRatio(a,c,e,n);G?(G.show(),k.loadMediaIntoAiry(G,b,P)):G=k.createAiryInstanceForChromeful(n,b,P,null,
p.autoplayVideo,B,y,E);b:if(k.videoIngressExperimentEnabled(p)){if(1<k.getVideosCount(x.getCurrentItem().color,p)){if(k.isDefined(L)){y.show();break b}L=d('<a class="more-videos"></a>').attr("href","#").text(p.staticStrings.watchMoreVideos);y.find("#videoCaption").append(L);r.declarative.create(L,"videoIngressClick",S)}k.playVideoInImmersiveView(p,x.getCurrentItem().color)&&(r.declarative.create(n,"videoIngressClick",S),n.children().css("z-index","-1"),n.css("display","inline-block"))}else y.find("#videoCaption").text(p.staticStrings.playVideo),
y.show();b=G;p.autoplayVideo&&b&&!I&&(k.toggleVideoCaption(y),b.setVolume(0),b.show(),b.play(),I=!0)}else G?(G.show(),k.loadMediaIntoAiry(G,b,P),G.play(),y.show()):(G=h(n,b,P))&&G.play();H?k.repositionVideoBanner(B,n,F):F.removeClass("show-banner")}}function v(b,e,g){var h=f(e);e=b;k.isDefined(h)&&0<h.length&&p.alwaysIncludeVideo&&b===p.maxAlts&&(E.find(".item:last").remove(),b--);k.isDefined(h)&&(d.each(h,function(c,d){if(b<p.maxAlts){var e=p.useChromelessVideoPlayer?"chromeless-video":"chromeful-video",
f={type:e,index:c,thumbnailIndex:b,variant:d.variant};S={type:"video-ingress",index:c,thumbnailIndex:b,variant:d.variant};if(p.displayVideoBanner&&p.isLargeSCLVideoThumbnail&&d.banner&&d.wideThumbUrl)k.createThumbnail(f,d.wideThumbUrl,E,O);else if(k.videoIngressExperimentEnabled(p)&&"chromeful-video"===e&&(O+=" videoBlockIngress",d.thumb=d.thumb.replace("_PKmb-play-button-overlay-thumb","")),k.createThumbnail(f,d.thumb,E,O),k.videoIngressExperimentEnabled(p)){q(E.find(".videoBlockIngress img"),p.videoIngressATFSlateThumbURL);
var f=1<h.length?"multiple-videos":"one-video",g=1<h.length?h.length+" "+p.staticStrings.multipleVideos:p.staticStrings.singleVideo;g&&E.find(".videoBlockIngress").append(E.find("#videoCount_template").clone().text(g).attr("id","videoCount")).addClass(f)}K||(K=!0,a.postCountMetric("chromeless-video"===e?"dppc_chromelessVideoAvailable":"dppc_chromefulVideoAvailable"));b++}if(k.videoIngressExperimentEnabled(p))return!1}),c(E,e,b,g));return b}function q(a,b){var c=a.attr("src");if(c&&b){a.attr("src",
b);var d=new Image;d.onload=function(b){a.attr("src",c)};d.src=c}}function t(b){G&&G.pause();b.data=S;var c="a"===b.targetTag?"dpcc_vse_videoIngressLink":"dpcc_vse_videoIngressSlate";A.dispatch("imageClick",b);a.postCountMetric(c)}var u,p,x,A,E,n,y,B,F,L,G,P,H,S,K=!1,I=!1,O="videoThumbnail";return function(a,b,c,e){u=this;p=a;x=b;A=e;P=p.airyConfig;p.colorToVideo={};p.colorToVideo[p.landingAsinColor]=p.colorToVideo[p.defaultColor]=p.videos;u.render=function(a,b,c,e,f,g){E=e;n=f.find("#main-video-container");
y=n.parent().find("#video-canvas-caption");B=d("#main-image-container");n.parent().find("#banner-outer-container");F=n.parent().find("#image_block_video_banner");p.useChromelessVideoPlayer||n.addClass("chromeful-container");a=v(b,a,g);m(x.getCurrentItem());k.videoIngressExperimentEnabled(p)&&r.declarative("videoIngressClick",["click"],t);return a};u.update=function(a){var b=a.data;"ingress"!==b.type&&G&&(G.hide(),n.parent().css("z-index",-1),y.hide(),k.isDefined(F)&&F.removeClass("show-banner"));
if("swatchHover"===a.type)b.color===x.getCurrentItem().color?m(x.getCurrentItem()):a.captured||k.lazyLoadingRequired(b,x,p)&&!k.lazyLoadOnHoverEnabled(p)&&m(x.getCurrentItem());else if("chromeful-video"===b.type||"chromeless-video"===b.type)m(b),p.usePeekHover&&"click"!==a.type||k.selectGivenThumbnail(a.$declarativeParent,E)}}});w.when("A","a-modal","a-tooltip","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockImmersiveView",
function(r,d,e,k,b,a,c,f,g){function h(a){return a.hiRes||a.large||a.main[a.main.length-1]}function l(a,c){var d=r.copy(a);if(b.isDefined(a)&&a.length>c){try{for(var e=-1,f=0;f<a.length;f++){var g=a.charAt(f);if(" "===g||"."===g||"?"===g||";"===g||","===g||":"===g)e=f;if(f===c-4){d=a.substring(0,-1===e?f:e);break}}}catch(h){d=a.substring(0,c-3)}d+="..."}return d}function m(a,b){a=a.replace(/\._(AA|SS)\d+_/,"").replace(/\._SX\d+_SY\d+_CR,0,0,\d+,\d+_/,"");a=a.replace(/\._(US)\d+_/,"").replace(/\._SR\d+,\d+_/,
"").replace(/\._SP[0-9,C]+_/,"");a=a.replace(/\._CB\d+_SS\d+_/,"");var c="_AA50_";b&&(c+="FMpng_RI_");return v(a,c)}function v(a,b){var c=a.lastIndexOf(".");return a="_"===a.charAt(c-1)?a.substring(0,c-1)+b+a.substring(c):a.substring(0,c)+"."+b+a.substring(c)}function q(){J.find("#ivTitle").click(function(){z.hide()})}function t(a){if(b.videoIngressExperimentEnabled(R)){var c=J.find("#ivMediaSelect");c.find("option[value='"+a+"']").attr("selected",!0);c.trigger("change")}}function u(){Y=xa?{type:"360-spin"}:
na.getCurrentItem()}function p(a,b){var c=parseInt(a.css(b),10);return isNaN(c)?0:c}function w(){var a=J.find("#ivStage"),b=z.$container.find(".a-popover-wrapper"),c=b.find(".a-popover-inner"),b=b.height()-p(c,"padding-top")-p(c,"padding-bottom");J.css("height",b);var c=J.find("#ivTitle").outerHeight(!0),d=J.find("#ivVariationSelection").outerHeight(!0),e=J.find("#ivMediaSelection").outerHeight(!0),f=J.find("#ivThumbs"),g=p(f,"margin-top")+p(f,"margin-bottom");f.css("height",b-c-d-e-g);J.find("#ivLargeImage").css("height",
b);a.css("width",J.width()-p(J,"padding-left")-p(J,"padding-right")-J.find("#ivThumbColumn").width()-p(a,"margin-left")-p(a,"margin-right"))}function A(){J.find("#ivMediaSelect").change(function(){var a=k(this).val();"all"===a?(J.find("#ivVideoList").hide(),J.find("#ivThumbs").show(),J.find(".ivThumbVideo").show(),"chromeful-video"===Y.type&&J.find("#ivVideo_"+Y.index).click()):"images"===a?(J.find("#ivVideoList").hide(),J.find("#ivThumbs").show(),J.find(".ivThumbVideo").hide(),"chromeful-video"===
Y.type&&(0===sa&&0===ga?J.find("#iv360").click():0===sa?J.find("#ivHeroImage_0").click():J.find("#ivImage_0").click())):"videos"===a&&(J.find("#ivVideoList").show(),J.find("#ivThumbs").hide(),"chromeful-video"!==Y.type?J.find("#ivVideoList_0").click():J.find("#ivVideoList_"+Y.index).click())})}function E(){var a=J.find("#ivStage").find("#ivLargeImage"),b=a.width(),c=a.height(),d=a.find(".fullscreen");d.removeAttr("style");var e=d.width(),f=d.height();0<d.length&&(d[0].naturalWidth&&(e=d[0].naturalWidth),
d[0].naturalHeight&&(f=d[0].naturalHeight));a.css("cursor","auto");var e=0===e?1:e,f=0===f?1:f,g=Math.min(b/e,c/f),h=f*g,k=e*g;1>g?(kb?a.css("cursor","url('"+R.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),Va=!0):Va=!1;e=Math.min(k,e);f=Math.min(h-20,f);d.css({"margin-top":(c-f)/2,"margin-left":(b-e)/2,height:f,width:e});a.css("visibility","visible");Xa=!1}function n(a){var b=J.find("#ivLargeImage");b.css("visibility",
"hidden");b.empty();b.animate({opacity:1},200);b.append(a);E()}function y(){ca&&ca.pause();J.find("#ivLarge360").css("display","none");J.find("#ivLargeVideo").css("display","none");J.find("#ivLargeImage").css("display","none");I()}function B(a){y();J.find("#ivLargeImage").css("display","block");var c;"hero-image"===a?b.isDefined(Ga)&&(c=h(Ga[Y.index])):b.isDefined(D)&&(c=h(D[Y.index]));if(b.isDefined(c)){J.find(".fullscreen").remove();var d=k("<img>").attr("src",c).addClass("fullscreen"),e=J.find("#ivLargeImage");
F(e,function(){d.load(function(){n(d)});if(d[0].complete)n(d);else{e.empty();var a=(e.height()-104)/2,b=(e.width()-80)/2;k("<img>").attr("src",R.staticImages.spinner).css({position:"relative",top:a+"px",left:b+"px"}).appendTo(e)}})}}function F(a,b){a.animate({opacity:.4},200,b)}function L(){var a=parseInt(Y.index,10)+1;a>=aa.length||J.find("#ivVideo_"+a).click()}function G(a,c){ka||(ka=gb.find("#image_block_video_banner_temp"),ka=ka.clone().removeClass("template").removeClass("aok-hidden").attr("id",
"immersive_view_video_banner").addClass("show-banner"),ka.find("a").attr("href",encodeURI(c.banner.targetUrl+"?reftag="+c.banner.refTag)),ka.find("img").attr("src",c.banner.logoUrl),ka.find("span").text(c.banner.subtext));var d=J.find("#ivStage");a.addClass("show-banner");ka.addClass("show-banner");ka.appendTo(a);b.repositionVideoBanner(d,a,ka)}function P(){var a;b.isDefined(aa)&&(a=aa[Y.index]);if(b.isDefined(a)){y();var c=J.find("#ivLargeVideo").css("display","block");ca?(ca.isDetached()&&ca.attach(c[0]),
b.loadMediaIntoAiry(ca,a,Qa),ca.show(),ca.play({isAsync:!0}),R.displayVideoBanner&&b.isDefined(a.banner)&&"nobanner"!==a.banner.layout?G(c,a):R.displayVideoBanner&&b.isDefined(ka)&&(ka.removeClass("show-banner"),J.find("#ivLargeVideo").removeClass("show-banner").css({width:"",height:""}))):(ca=b.createAiryInstanceForChromeful(c,a,Qa,"ImmersiveView"),R.displayVideoBanner&&b.isDefined(a.banner)&&"nobanner"!==a.banner.layout?G(c,a):R.displayVideoBanner&&b.isDefined(ka)&&(ka.removeClass("show-banner"),
J.find("#ivLargeVideo").removeClass("show-banner").css({width:"",height:""})),Qa.enableContinuousPlay&&ca.bind("ended",L),ca.play({isAsync:!0}))}}function H(){u();var a;"hero-image"===Y.type?a=J.find("#ivHeroImage_"+Y.index):"image"===Y.type?(a=J.find("#ivImage_"+Y.index),t("all")):"chromeful-video"===Y.type||"chromeless-video"===Y.type?(a=J.find("#ivVideo_"+Y.index),t("videos")):a="360-spin"===Y.type?J.find("#iv360"):b.isDefined(Ga)?J.find("#ivHeroImage_"+Y.index):J.find("#ivImage_"+Y.index);b.isjQueryObjDefined(a)||
(a=J.find("#ivImage_0"));S(a)}function S(a){J.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivThumbVideo")?(Y.type="chromeful-video",Y.index=a.attr("id").split("_")[1],P()):a.hasClass("ivHeroImage")?(Y.type="hero-image",Y.index=a.attr("id").split("_")[1],B(Y.type)):a.hasClass("iv360Image")?(Y.type="360-spin",Y.index=0,K()):(Y.type="image",Y.index=a.attr("id").split("_")[1],B(Y.type))}function K(){y();J.find("#ivLarge360").css("display","block");Ia();var a=J.find("#ivLarge360");
a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});a.animate({opacity:1},200)},200);U();c.postCountMetric("dppc_click360");Ha=Date.now()}function I(){0<Ha&&(O("dppc_duration360",Date.now()-Ha),Ha=0)}function O(a,b){x.ue&&x.ue.count(a,b)}function U(){if(0<Ja){var a=J.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function N(a,b){if(Ja<a.length){var c=k("<img style='display:block'/>");c.hide();b.append(c);c.get(0).onload=function(){b.closest(document.documentElement).length&&
(Ja++,1===Ja&&(U(),0<Ha&&O("dppc_loadTime360",Date.now()-Ha)),J.find("#iv360Spinner").hide(),c.show(),Sa=5*W.imageLocations[Math.floor(ta/W.imageLocations[0].length)][ta%W.imageLocations[0].length],N(a,b))};c.attr("src",ea(a[Ja]))}}function ea(a){var b=Math.round(Ca),c=Math.round(Ra);return a.replace(/(\._SP)\d+(,)\d+/,"$1"+b+"$2"+c)}function Ia(){var a=J.find("#ivLarge360");a.children("#image-360-sprites").length||(a.append("<div id='image-360-sprites'></div>"),a.css({"margin-left":0,"margin-top":0,
width:a.parent().width(),height:a.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),k("<img>").attr("src",R.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(a),va=!0,M())}function M(){if(b.isDefined(W.spriteURLs)&&b.isDefined(J)&&va&&!La){var a=J.find("#ivLarge360"),c=k("<div>").addClass("iv360Hint").css({position:"absolute",
width:"100%",bottom:0,opacity:0,display:"block"});b.isDefined(W.staticImages.hint360)&&k("<img>").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",W.staticImages.hint360).appendTo(c);k("<div>").css({"text-align":"center"}).text(R.staticStrings.dragToSpin).appendTo(c);c.appendTo(a);var c=W.imageWidth,d=W.imageHeight,e=a.parent().width(),f=a.parent().height(),g,h,l=0,m=0;c/d>e/f?(g=e,h=Math.round(d/c*g),m=(f-h)/2):(h=f,g=Math.round(c/d*h),l=(e-g)/2);a.css({"margin-left":l,
"margin-top":m,width:g,height:h,overflow:"hidden",position:"relative"});a.children("#image-360-sprites").css("width",6*g+"px");Ca=g;Ra=h;N(W.spriteURLs,J.find("#image-360-sprites"),0);c=J.find("#ivLarge360");c.bind("mousedown",ha);c.bind("touchstart",V);c.bind("touchmove",fa);c.bind("touchend",ba);k(document).bind("mousemove",da);k(document).bind("mouseup",ua);b.isDefined(R.staticImages.grab)&&a.css("cursor","url('"+R.staticImages.grab+"'), auto");La=!0}}function V(a){wa=!0;Ua=a.originalEvent.targetTouches[0].clientX}
function fa(a){wa&&(ma(a.originalEvent.targetTouches[0].clientX-Ua),Ua=a.originalEvent.targetTouches[0].clientX)}function ba(a){wa&&(wa=!1)}function ha(a){Ta=!0;qa=a.originalEvent.clientX;b.isDefined(R.staticImages.grabbing)&&(a=J.find("#ivLarge360"),a.css("cursor","url('"+R.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor","url('"+R.staticImages.grabbing+"'), auto"));return!1}function da(a){Ta&&(ma(a.originalEvent.clientX-qa),qa=a.originalEvent.clientX)}function ua(a){Ta&&
(Ta=!1,b.isDefined(R.staticImages.grab)&&(a=J.find("#ivLarge360"),a.css("cursor","url('"+R.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function ma(a){for(a=Sa-=a/Ca*180;0>a;)a+=360;for(;360<a;)a-=360;Sa=a;var c;a=360;for(var d=0;d<Ja;d++)for(var e=0;e<W.imageLocations[d].length;e++){var f=Math.abs(Sa-5*W.imageLocations[d][e]);f<a&&(a=f,c=d*W.imageLocations[0].length+e)}c!==ta&&(a=Math.floor(c/W.imageLocations[0].length),a!==Math.floor(ta/W.imageLocations[0].length)&&
(b.isDefined(eb)||(eb=document.createElement("canvas").getContext("2d")),d=J.find("#image-360-sprites").children(),eb.drawImage(d[a],0,0)),a=J.find(".iv360Hint").not(".iv360HintFaded"),b.isDefined(a)&&(a.addClass("iv360HintFaded"),a.animate({opacity:0},750)));ta=c;a=c%W.imageLocations[0].length*-1*Ca;c=-1*Math.floor(c/W.imageLocations[0].length)*Ra;d=J.find("#ivLarge360").children("#image-360-sprites");d.css("-webkit-transform","translate3d("+a+"px, "+c+"px, 0)");d.css("transform","translate3d("+
a+"px, "+c+"px, 0)")}function ya(){J.delegate(".ivThumb","click",function(){var a=k(this);S(a)});J.delegate(".ivThumbVideoListOuter","click",function(){J.find(".ivThumbVideoListOuter").removeClass("selected");var a=k(this);a.addClass("selected");Y.type="chromeful-video";Y.index=a.attr("id").split("_")[1];P()})}function Z(){ca&&!ca.isDetached()&&(Qa.volume=ca.getVolume(),ca.detach(),!document.all||x.atob||document.addEventListener||(ca=null));J.find("#ivLargeImage").empty();I()}function ia(a,b){return 0<
b?b/2:Math.min(0,Math.max(b,a))}function T(a){var b=Ea.top-(a.pageY-Oa[1])*Aa;a=ia(Ea.left-(a.pageX-Oa[0])*Aa,Na.left);b=ia(b,Na.top);J.find(".fullscreen").css({left:a,top:b})}function Ba(){J.delegate("#ivLargeImage","click",function(a){if(Xa)E();else if(Va){J.find(".fullscreen").removeAttr("style");if(Va){var b=J.find("#ivLargeImage"),c=b.find(".fullscreen");kb?b.css("cursor","url('"+R.staticImages.zoomOut+"'), auto"):(b.css("cursor","-webkit-zoom-out"),b.css("cursor","-moz-zoom-out"),b.css("cursor",
"zoom-out"));Xa=!0;var d=J.find("#ivLargeImage");Na.left=d.width()-c.width();Na.top=d.height()-c.height();var d=b.height()/2,e=b.width()/2;Oa=[b.offset().left+e,b.offset().top+d];Ea.top=d-c.height()/2;Ea.left=e-c.width()/2;c.css({position:"relative",left:Ea.left,top:Ea.top});Aa=Math.max(c.height()/b.height(),c.width()/b.width())}T(a)}});J.delegate("#ivLargeImage","mousemove",function(a){Xa&&T(a)})}function Ka(a){if(b.isImmersiveViewEnabled(R,na.getCurrentItem().color)){xa=b.isDefined(a)&&"button-360-click"===
a.action;f.isEnabled&&g.logImmersiveViewRequestServed(f);c.postCountMetric("dppc_immersiveViewOpened");if(b.isDefined(z))z.show();else{a=k("#auiImmersiveViewDiv");var e=k(x).height()-150,h=k(x).width()-75;z=d.create(a,{name:"immersiveView",activate:"onclick",width:h,height:e,popoverLabel:"ImmersiveView",hideHeader:!0});a.click()}if(Ma){J=k("#ivMain");a=na.getCurrentItem().color;D=R.colorImages[a];Ga=R.heroImage[a];aa=R.useChildVideos?R.colorToVideo[a]:R.videos;ib=la()&&R.spin360ColorEnabled[a];W=
la()?R.spin360ColorData[a]:Q;u();ra=ga=Fa=sa=0;b.isDefined(Ga)&&(ga=Ga.length);b.isDefined(D)&&(sa=D.length);b.isDefined(aa)&&(Fa=aa.length);ib&&(ra=1);a=J.find("#ivTitle");a.attr("title",R.title);a.text(l(R.title,45));if(b.isDefined(x.DetailPage)&&b.isDefined(x.DetailPage.StateController)){a=J.find("#ivVariationSelection");a.empty();var e=x.DetailPage.StateController.getState(),h=e.variation_label_order,n;for(n in h)if(h.hasOwnProperty(n)){var q=h[n],p=e.selected_variations[q],q=e.variation_display_labels[q];
p&&k("<div/>").addClass("ivVariations").text(q+":"+p).appendTo(a)}}n=J.find("#ivMediaSelect");0===sa+ra||0===Fa?(n.parent().hide(),J.find("#ivThumbs").addClass("noMediaSelection")):(n.empty(),k("<option/>").attr("value","all").prop("selected",!0).text(R.staticStrings.allMedia+" ("+(ga+sa+ra+Fa)+")").appendTo(n),k("<option/>").attr("value","images").text(R.staticStrings.images+" ("+(ga+sa+ra)+")").appendTo(n),k("<option/>").attr("value","videos").text(R.staticStrings.videos+" ("+Fa+")").appendTo(n),
n.parent().show(),n.val("all"));n=J.find("#ivThumbs");n.find(".ivRow").not(".placeholder").remove();a=ga+sa+Fa+ra;for(h=e=0;e<a;)for(p=n.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(n),q=0;3>q&&e<a;q++,e++,h++)if(h<ga){var t=Ga[e].thumb,v=n.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id","ivHeroImage_"+e).appendTo(p);v.find(".ivThumbImage").css("background",'url("'+m(t)+'") center no-repeat')}else if(h>=ga&&h<sa+ga)t=D[e-
ga].thumb,v=n.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id","ivImage_"+(e-ga)).appendTo(p),v.find(".ivThumbImage").css("background",'url("'+m(t)+'") center no-repeat');else if(h>=ga+sa&&h<sa+ga+ra)v=n.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("iv360Image").attr("id","iv360").appendTo(p),v.find(".ivThumbImage").css("background",'url("'+(b.isDefined(R.staticImages.icon360)?m(R.staticImages.icon360,!0):"")+'") center no-repeat');else if(t=aa[e-
sa-ga-ra],v=n.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivThumbVideo").attr("id","ivVideo_"+(e-sa-ga-ra)).appendTo(p),v.find(".ivThumbImage").css("background",'url("'+t.thumbUrl+'") center no-repeat'),b.isDefined(t)){var y={position:"triggerTop"},w=J.find("#ivThumbs").find(".ivThumbVideoPopover.placeholder").clone().removeClass("placeholder");w.find(".ivVideoPopoverTitle").text(t.title);w.find(".ivVideoPopoverDuration").text(t.durationTimestamp);y.inlineContent=w[0];
r.declarative.create(v,"a-tooltip",y)}n=J.find("#ivVideoList");n.find(".ivThumbVideoListOuter").not(".placeholder").remove();a=n.find(".placeholder");for(e=0;e<Fa;e++)h=aa[e],p=a.clone().removeClass("placeholder").appendTo(n),p.attr("id","ivVideoList_"+e),p.find(".ivThumbImage").css("background",'url("'+h.thumbUrl+'") center no-repeat'),p.find(".ivThumbTitle").text(h.title),p.find(".ivThumbDuration").text(h.durationTimestamp);J.find("#ivLarge360").empty();Ja=0;La=va=!1;Qa=R.airyConfig;Ma=!1;vb()}}}
function ja(d){var e=R.colorToAsin[d],f={},g=500;if(e&&e.asin){f.params={asin:e.asin};var h="360"+e.asin,k=Date.now();f.success=function(a){O("dppc_asyncRequestTime360",Date.now()-k);a&&b.isDefined(a.spin360.spin360Model)?(b.ajaxState(h,"success"),R.spin360ColorData[d]=a.spin360.spin360Model,d===na.getCurrentItem().color&&(W=R.spin360ColorData[d],M())):f.error()};f.error=function(){c.postCountMetric("dppc_asyncFailed360");O("dppc_asyncRequestTime360",Date.now()-k);g*=2;16E3>=g?setTimeout(function(){k=
Date.now();a.load("/gp/product/features/apparel-main-image/360.html",f)},g):b.ajaxState(h,"fail")};b.ajaxState(h)&&"fail"!==b.ajaxState(h)||(a.load("/gp/product/features/apparel-main-image/360.html",f),b.ajaxState(h,"sent"))}}function la(){return b.isDefined(R.spin360ConfigEnabled)&&R.spin360ConfigEnabled}var oa,R,na,X,z,J,Ga,D,aa,ga,sa,Fa,ra,Y,ca,Qa,ka,gb,W,ib,Ca,Ra,qa,Ua,xa=!1,va=!1,La=!1,Sa=0,ta=0,Ha=0,Ta=!1,wa=!1,Ja=0,eb,kb=navigator.userAgent.match(/msie|trident/i),Ma=!0,Xa=!1,Va=!1,Na={},Ea=
{},Aa,Oa,vb=r.once(function(){A();ya();Ba();r.on("a:popover:afterUpdatePosition:immersiveView",w);r.on("a:popover:afterShow:immersiveView",H);r.on("a:popover:afterHide:immersiveView",Z);q()});return function(a,d,e,g){oa=this;R=a;na=d;f.refToModel=na;X=g;la()&&(R.spin360ColorData[R.landingAsinColor]=R.spin360ColorData[R.defaultColor],R.spin360ColorEnabled[R.landingAsinColor]=R.spin360ColorEnabled[R.defaultColor]);b.isDefined(R.staticImages.icon360)&&k("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",
v(R.staticImages.icon360,"_FMpng_RI_"));oa.render=function(a,d,e,f,g,h){Ma=!0;gb=g;la()&&R.spin360ColorEnabled[a]&&!b.isDefined(R.spin360ColorData[a])&&(R.spin360ColorData[a]={},ja(a));b.isImmersiveViewEnabled(R,na.getCurrentItem().color)&&la()&&R.spin360ColorEnabled[a]&&(d===R.maxAlts&&(a=f.find(".item.imageThumbnail"),e=f.find(".item.videoThumbnail"),b.isDefined(e)&&1<e.length?e.last().remove():a.last().remove(),d--),a=f.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),
r.declarative.create(a,"button-360-click"),f.append(a),d++,c.postCountMetric("dppc_display360"));return d};oa.update=function(a){};X.register("imageClick",Ka);X.register("button360Click",Ka)}});w.when("A","jQuery","imageBlockUtils").register("ImageBlockLoader",function(r,d,e){return{load:function(d,b){b=b||{};b.timeout=b.timeout||4E3;r.ajax(d,b)}}});w.when("A","jQuery","Airy","postMetric","ImageBlockATF","ImageBlockBTF","logFailedInteractionMetric","postEarlyMetric").register("imageBlockUtils",
function(r,d,e,k,b,a,c,f){function g(a){return null!==a&&"undefined"!==typeof a}function h(a){var b=0;d.each(a,function(a,c){var d=parseInt(c[1],10);d>b&&(b=d)});return b}function l(a){var b=0;d.each(a,function(a,c){var d=parseInt(c[0],10);d>b&&(b=d)});return b}function m(a,b,c){b=b.width();if(c.naturalMainImageSize)return b;a=h(a);0<a&&(b=Math.min(b,a));return b}function v(a,b,c){b=b.height();if(c.naturalMainImageSize)return b;a=l(a);0<a&&(b=Math.min(b,a));return b}function q(a){var b;d.each(a,function(a,
c){g(b)||(b=c[1]/c[0])});return b||1}function t(a,b,c){b.fadeTo(500,0,function(){p(a,c);b.fadeTo(500,1)})}function u(a){a&&a.toggle()}function p(a,b){var c=b.find("img");g(c[a])&&d(c[a]).click()}function w(a,b){G[a]=b?b:G[a];return G[a]}function A(a,b,c){c=c||L;c=c.colorImages;if(1>c.length||!g(c[a])||!g(b))return-1;var e=-1;d.each(c[a],function(a,c){c.variant===b&&(e=a)});return e}function E(a,b,c){c=c||L;c=c.colorImages;return!(g(c)&&g(c[a])&&g(c[a][b])&&g(c[a][b].main))||1>d.map(c[a][b].main,function(a,
b){return b}).length?-1:c[a][b]}function n(a,b,c,d){d.parent().css("z-index",2);0!==c&&0!==b&&(b/=c,a>b?d.css("width",b/a*100+"%"):d.css("height",a/b*100+"%"))}function y(a,b){var e;if(e=a.useIV)e=a.colorImages&&a.colorImages[b]&&0<a.colorImages[b].length?!0:!1;c.isEnabled&&(c.IVApplicaple=e,f.logImmersiveViewApplicability(d,c));return e}var B,F,L=d.extend(!0,{},b,a),G={};return{isDefined:g,isjQueryObjDefined:function(a){return 0!==a.length},getAspectRatio:q,getMaxHeightOfMainImage:v,getMaxWidthOfMainImage:m,
getMaxDimensionsOfMainImage:function(a,b,c){var d=v(a,b,c);b=m(a,b,c);a=q(a);c=b/a;b=Math.min(b,d*a);d=Math.min(d,c);return[d,b]},getContainerHeight:function(a,b,c){var d=a.get(0);a=0;if(g(d)){a=d.offsetWidth/b;a=Math.min(a,c);var e;b=L.mainImageHeightPartitions;c=L.mainImageMaxSizes;if(g(c)&&g(b)){for(var f=0,h=x.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,d=0;d<b.length;d++)h>b[d]&&(f=d+1);c.length>=f&&(e=c[f])}g(e)&&(a=Math.min(e[1],a))}return a},getColorFromState:function(a,
b){if(a){b=b||L;var c="";d.each(b.visualDimensions,function(b,d){a[d]&&(c+=" "+a[d])});return c&&c.substring(1)}},createThumbnail:function(a,b,c,d){var e=c.find(".template").clone().removeClass("template").addClass("item"),f=document.createElement("img");f.src=b;e.find(".placeHolder").replaceWith(f);(b=a.heroVideoVariant)&&"hero-image"===a.type&&a.variant===b&&e.addClass("heroImageThumbnail");g(d)&&e.addClass(d);r.declarative.create(e,"thumb-action",a);c.append(e)},selectGivenThumbnail:function(a,
b){var c=a.find(".a-button");b.find(".a-button").removeClass("a-button-selected").removeClass("a-button-focus");c.addClass("a-button-selected").addClass("a-button-focus")},createAiryInstanceForChromeful:function(a,b,c,f,g,h,l,m){var n=d.extend({},c.foresterMetadataParams);null!==f&&(n.method+="."+f);var p=[];b.disabledViewIds&&(p=b.disabledViewIds);return e.embed({parentElement:a[0],streamingUrls:b.url,contentId:b.mediaObjectId,contentMinAge:Number(b.minimumAge||"")||0,contentTitle:b.title,swfUrl:c.swfUrl,
foresterMetadataParams:n,backgroundColor:"transparent",flashParams:{wmode:"transparent"},slateImages:{preloadSlate:b.slateUrl,postMediaSlate:b.slateUrl},videoAds:c.videoAds,bindings:{play:function(){"ImmersiveView"===f?B||(B=!0,k.postCountMetric("dppc_chromefulVideoPlayedIV")):F||(F=!0,k.postCountMetric("dppc_chromefulVideoPlayedPV"))}},cuePoints:[{values:b.durationSeconds-1,type:"position",callback:function(a,b,c){g&&(t(0,h,m),u(l))}}],disabledViewIds:p})},loadMediaIntoAiry:function(a,b,c){a&&a.getMediaSourceInfo()!==
b.url&&a.loadMedia({mediaSourceInfo:b.url,contentId:b.mediaObjectId,contentMinAge:Number(b.minimumAge||"")||0,contentTitle:b.title,slateImages:{preloadSlate:b.slateUrl,postMediaSlate:b.slateUrl}})},showUnavailable:function(a){a&&(d("#imageBlock .unvailableVariation").html(a),d("#imageBlock .variationUnavailable").show())},hideUnavailable:function(){d("#imageBlock .variationUnavailable").hide()},fadeToThumbnail:t,toggleVideoCaption:u,selectThumbnail:p,spinner:function(a,b){var c=d("#imageBlock .a-spinner").parent();
0===c.length&&(c=d("<div></div>").append(d("<span></span>").addClass("a-spinner").addClass("a-spinner-medium")),a.append(c),c.css({position:"absolute",left:"50%",top:"50%",transform:"translate3d(-50%, -50%, 0)","-webkit-transform":"translate3d(-50%, -50%, 0)","z-index":"3",width:"48px",height:"48px",border:"8px solid #FFFFFF","-webkit-border-radius":"20px","-moz-border-radius":"20px","border-radius":"100%"}));b?c.show():c.hide();return c},rankedImagesReadyEvent:function(a){return"ranked-images-ready-for-"+
a},ajaxState:w,getIndexForVariant:A,getImageHash:E,lazyLoadingRequired:function(a,b,c){b=Math.max(A(a.color,b.getCurrentItem().variant,c),0);b=-1!==E(a.color,b,c);a=c.colorToAsin[a.color]&&c.colorToAsin[a.color].asin;a=!a||"success"!==w(a);return!c.lazyLoadExperienceDisabled&&!b&&a},lazyLoadOnHoverEnabled:function(a){return!a.lazyLoadExperienceOnHoverDisabled},updateAspectRatio:n,repositionVideoBanner:function(a,b,c,d){setTimeout(function(){var c=a.width()/a.height();n(c,16,9,b)},d||0)},videoIngressExperimentEnabled:function(a){return a.videoIngressExperimentTreatment&&
"C"!==a.videoIngressExperimentTreatment},getVideosCount:function(a,b){return b.useChildVideos&&b.colorToVideo[a]?b.colorToVideo[a].length:b.videos?b.videos.length:0},isImmersiveViewEnabled:y,playVideoInImmersiveView:function(a,b){return y(a,b)&&"T2"===a.videoIngressExperimentTreatment}}});w.when("A","jQuery","imageBlockUtils","ImageBlockHeroUtils","postMetric").register("ImageBlockHeroImageView",function(r,d,e,k,b){function a(a,b,c,g){if(!e.isjQueryObjDefined(a.find(".a-button-selected"))){var h=
u.getCurrentItem();if(!g||"chromeless-video"!==h.type||!t.autoplayVideo){g=0;if("hero-image"===h.type){g=f(h.color,h.variant);if(-1===g)return;g=-1!==g?g:0}var l=b+g;l>=c&&(g=0,l=b);b=k.getHeroImageHash(t,h.color,g);-1!==b&&(p.dispatch("updateModel",{data:{index:g,thumbnailIndex:l,variant:b.variant,type:"hero-image"}}),b=a.find(".item").get(l),e.selectGivenThumbnail(d(b),a))}}}function c(b,c,f){if("hero-video"===u.getCurrentItem().type)return b;c=t.heroImage&&t.heroImage[c];var g=b;e.isDefined(c)&&
(d.each(c,function(a,c){b<t.maxAlts&&(e.createThumbnail({type:"hero-image",index:a,thumbnailIndex:b,variant:c.variant},c.thumb,w,"imageThumbnail"),b++)}),a(w,g,b,f));return b}function f(a,b){var c=t.heroImage;if(1>c.length||!e.isDefined(c[a])||!e.isDefined(b))return-1;var f=-1;d.each(c[a],function(a,c){c.variant===b&&(f=a)});return f}function g(){if(x.length&&t.repositionHeroImage){var a=k.getHeroDimParams(t,u.getCurrentItem()),b;e.isDefined(a)&&(b=e.isDefined(a.xPos)?a.xPos+"px "+a.yPos+"px ":"center "+
a.yPos+"px ",x.css({"background-position":b,"background-size":a.width+"px "+a.height+"px ","max-width":a.width+"px ","min-height":a.height+"px ",filter:"","-ms-filter":""}))}}function h(a,b,c,d){if(x.length&&a&&b){if("function"===typeof c||d){var f=new Image;f.onload=d?function(){x.css("background-image",'url("'+a+'")')}:c;f.src=a}c=b[1];var f=b[0],g;d||x.css({"background-image":'url("'+a+'")'});t.repositionHeroImage&&(b=k.getHeroDimParams(t,u.getCurrentItem(),b),e.isDefined(b)&&(c=b.width,f=b.height,
g=e.isDefined(b.xPos)?b.xPos+"px "+b.yPos+"px ":"center "+b.yPos+"px "));x.css({"background-position":g,"background-size":c+"px "+f+"px ","max-width":c+"px ","min-height":f+"px ",filter:"","-ms-filter":""})}}function l(a,b,c,e){a=k.getHeroImageHash(t,a,b);if(-1===a)return-1;b=d.map(a.main,function(a,b){return b})[0];h(b,a.main[b],c,e)}function m(a,b,c){if("hero-image"!==a.type)return-1;var d=f(a.color,u.getCurrentItem().variant),d=-1!==d?d:0;if(-1===k.getHeroImageHash(t,a.color,d))return-1;var e=
u.getCurrentItem();a.thumbnailIndex=e.thumbnailIndex;a.type=e.type;a.variant=e.variant;a.index=d;v(a,b,c)}function v(a,b,c){var d=k.getHeroImageHash(t,a.color,a.index),e;e=a&&E&&r.equals(a,E)?!0:!1;E||(E=a);if(!e&&a||b)l(a.color,a.index,b,c),E=a;x.removeClass("hide-background");r.trigger("dp:image-block:update",d)}var q,t,u,p,w,x,E={};return function(a,b,f,h){q=this;t=a;u=b;p=h;t.heroImage[t.landingAsinColor]=t.heroImage[t.defaultColor];q.render=function(a,b,e,f,g,h,k){w=f;x=d("#heroImage");a=c(b,
a,h);m(u.getCurrentItem(),k,h);return a};q.update=function(a){var b=a.data;"ingress"!==b.type&&x.addClass("hide-background");"swatchHover"===a.type?a.captured||(b.type=u.getCurrentItem().type,-1!==m(b)&&(a.captured=!0)):"hero-image"===b.type&&(v(b),"click"!==a.type&&t.usePeekHover||e.selectGivenThumbnail(a.$declarativeParent,w))};p.register("resize",g)}});w.when("A","jQuery","imageBlockUtils","postMetric","ImageBlockAltImageView").register("ImageBlockAltImageIngressView",function(r,d,
e,k,b){function a(a){a=g.heroImage[a];var b=0;a&&(b=a.length);return b}function c(a){l.find(".item").eq(a).appendTo(l).addClass("vse-scl-thumbnail")}var f,g,h,l;return function(b,d,k,t){f=this;g=b;h=t;f.render=function(b,d,h,k,m,n,q){l=k;f=this;h=g.maxAlts;k=d;m=(g.colorImages[b]?g.colorImages[b].length:0)+e.getVideosCount(b,g)+a(b);m>h&&(n=m-h,k=d,m=l.find(".altIngressTemplate").clone().removeClass("altIngressTemplate").removeClass("aok-hidden").addClass("item"),n+="+",q={type:"ingress",index:0,
thumbnailIndex:k,variant:""},m.find("#altIngressText").append(n),r.declarative.create(m,"thumb-action",q),l.append(m),k=k++);m=e.isDefined(g.videos[0])?e.isDefined(g.videos[0].banner):!1;g.displayVideoBanner&&g.isLargeSCLVideoThumbnail&&m&&(b=(g.colorImages[b]?g.colorImages[b].length:0)+a(b),b>=h&&g.alwaysIncludeVideo?c(d-1):b<h&&c(b));return k};f.update=function(a){"ingress"===a.data.type&&"click"===a.type&&h.dispatch("imageClick",a)}}});w.when("A","jQuery","imageBlockUtils").register("ImageBlockState",
function(r,d,e){return function(d,b,a){this.getImageHash=function(b){var f=a.getCurrentItem();b=e.getIndexForVariant(f.color,b||"MAIN",d);return e.getImageHash(f.color,b,d)};this.onImageUpdateForTwister=function(a){b.register("updateSelection",function(b){"swatchClick"===b.type&&"function"===typeof a&&a()})}}});w.when("A","jQuery","imageBlockUtils").register("ImageBlockHeroUtils",function(r,d,e){function k(a,b){var d;if(b.repositionHeroImage){d=a[1];var e=a[0];if(768>=(x.innerHeight||
document.documentElement.clientHeight||document.body.clientHeight))d*=.7,e*=.7;else{var k=((x.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-1024)/256,k=Math.max(Math.min(k,1),0);d*=.7+.3*k;e*=.7+.3*k}d=[d,e]}return d}function b(a,b,d){var h;if(d.repositionHeroImage){var k=x.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;d=d.heroFocalPoint;if(e.isDefined(d)){h=Math.max((k-Math.min(1500,a))/2,0);var m=Math.max((k-a)/2,0);h-=m;k=Math.max(Math.min(k,
1500),1024);h=h+(k-420-23)/2-a/b[1]*d}}return h}function a(a,b,g){a=a.heroImage;return!(e.isDefined(a)&&e.isDefined(a[b])&&e.isDefined(a[b][g])&&e.isDefined(a[b][g].main))||1>d.map(a[b][g].main,function(a,b){return b}).length?-1:a[b][g]}return{getHeroImageHash:a,getHeroDimParams:function(c,f,g){if(c.repositionHeroImage){if(!e.isDefined(g)){g=a(c,f.color,f.index);if(-1===g)return;f=d.map(g.main,function(a,b){return b})[0];g=g.main[f]}f=k(g,c);c=b(f[0],g,c);return{height:f[1],width:f[0],xPos:c,yPos:75}}}}})})})(function(){var w=
window.AmazonUIPageJS||window.P,x=w._namespace||w.attributeErrors;return x?x("DetailPageImageBlockAssets"):w}(),window);